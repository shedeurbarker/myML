2025-09-23 04:00:39,049 - INFO - === DEVICE PARAMETER OPTIMIZATION ===
2025-09-23 04:00:39,049 - INFO - Log file: results/8_optimize_device/optimization_log.txt
2025-09-23 04:00:39,049 - INFO - 
=== Step 1: Loading Example Parameters ===
2025-09-23 04:00:39,049 - INFO - Loaded example parameters from: example_device_parameters.json
2025-09-23 04:00:39,051 - INFO - Device Type: Perovskite Solar Cell (PCBM/MAPI/PEDOT)
2025-09-23 04:00:39,051 - INFO - 
=== Step 2: Loading Optimization Models ===
2025-09-23 04:00:40,364 - INFO - Loaded optimization models and feature definitions
2025-09-23 04:00:40,364 - INFO - 
=== Step 3: Validating Original Parameters ===
2025-09-23 04:00:40,364 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,364 - INFO - Original parameters validation: All physics constraints satisfied
2025-09-23 04:00:40,364 - INFO - 
=== Step 4: Optimizing Parameters (Method: local) ===
2025-09-23 04:00:40,366 - INFO - Progress counter: ENABLED (update every 5 iterations)
2025-09-23 04:00:40,366 - INFO - 
=== Starting Parameter Optimization ===
2025-09-23 04:00:40,366 - INFO - Method: local, Max iterations: 1
2025-09-23 04:00:40,366 - INFO - Converted L1_L bounds from nm to meters: [2e-08, 5.0000000000000004e-08]
2025-09-23 04:00:40,366 - INFO - Converted L2_L bounds from nm to meters: [2.1e-07, 3.5000000000000004e-07]
2025-09-23 04:00:40,366 - INFO - Converted L3_L bounds from nm to meters: [2e-08, 5.0000000000000004e-08]
2025-09-23 04:00:40,366 - INFO - Loaded bounds for 15 parameters
2025-09-23 04:00:40,368 - INFO - Calculating derived features (Script 7 compatible)...
2025-09-23 04:00:40,399 - INFO - Calculated derived features (Script 7 compatible). Total features: 39
2025-09-23 04:00:40,456 - INFO - PCE prediction (0.98%) is within S-Q limit (33.7%) [VALID]
2025-09-23 04:00:40,468 - INFO - Original Performance - MPP: 9.8015 W/cm², PCE: 0.98%
2025-09-23 04:00:40,468 - INFO - Original Recombination: 1.65e+30
2025-09-23 04:00:40,468 - INFO - 
--- Local Optimization (L-BFGS-B) ---
2025-09-23 04:00:40,470 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,472 - INFO - Calculating derived features (Script 7 compatible)...
2025-09-23 04:00:40,487 - INFO - Calculated derived features (Script 7 compatible). Total features: 39
2025-09-23 04:00:40,530 - INFO - PCE prediction (0.98%) is within S-Q limit (33.7%) [VALID]
2025-09-23 04:00:40,534 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,534 - INFO - Calculating derived features (Script 7 compatible)...
2025-09-23 04:00:40,550 - INFO - Calculated derived features (Script 7 compatible). Total features: 39
2025-09-23 04:00:40,606 - INFO - PCE prediction (1.00%) is within S-Q limit (33.7%) [VALID]
2025-09-23 04:00:40,608 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,609 - INFO - Calculating derived features (Script 7 compatible)...
2025-09-23 04:00:40,624 - INFO - Calculated derived features (Script 7 compatible). Total features: 39
2025-09-23 04:00:40,664 - INFO - PCE prediction (0.98%) is within S-Q limit (33.7%) [VALID]
2025-09-23 04:00:40,666 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,719 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,860 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:40,948 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,014 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,091 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,163 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,216 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,269 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,323 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,377 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,437 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,498 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,555 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,611 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,662 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,729 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,799 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,865 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,916 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:41,973 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,033 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,093 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,145 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,246 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,321 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,388 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,459 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,525 - WARNING - W_R (5.2) slightly > HTL E_v (5.159) - within tolerance
2025-09-23 04:00:42,590 - WARNING - Local optimization failed or poor result: STOP: TOTAL NO. OF ITERATIONS REACHED LIMIT
2025-09-23 04:00:42,592 - ERROR - All optimization methods failed!
2025-09-23 04:00:42,592 - ERROR - Optimization failed!
